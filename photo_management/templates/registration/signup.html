{% extends "base.html" %}

{% block title %}Registration{% endblock %}

{% block head %}
<script>
  function checkPasswordMatch() {
    var password = document.getElementById("password").value;
    var confirm_password = document.getElementById("confirm_password").value;
    var register_button = document.getElementById("register_button");

    if (password != confirm_password) {
      document.getElementById("password_match_message").innerHTML = "Passwords do not match";
      register_button.disabled = true;
    } else {
      document.getElementById("password_match_message").innerHTML = "";
      register_button.disabled = false;
    }
  }
</script>
{% endblock head %}

{% block content%}
<section class="vh-100" style="background-color: #508bfc">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-12 col-md-8 col-lg-6 col-xl-5">
        <div class="card shadow-2-strong" style="border-radius: 1rem">
          <div class="card-body p-5 text-center">
            {% if error %}
            <div class="alert alert-danger" role="alert">
              {{ error }}
            </div>
            {% endif %}
            {% if error_message %}
              <div class="alert alert-danger" role="alert">
                {{ error_message }}
              </div>
            {% endif %}
            <h3 class="mb-5">CREATE AN ACCOUNT</h3>
            <form action="{% url 'signup' %}" method="post">
              {% csrf_token %}
              <div data-mdb-input-init class="form-outline mb-4">
                <input
                  type="text"
                  name="firstname"
                  class="form-control form-control-lg"
                  required
                  placeholder="First Name"
                />
              </div>
              <div data-mdb-input-init class="form-outline mb-4">
                <input
                  type="text"
                  name="lastname"
                  class="form-control form-control-lg"
                  required
                  placeholder="Last Name"
                />
              </div>
              <div data-mdb-input-init class="form-outline mb-4">
                <input
                  type="text"
                  name="username"
                  class="form-control form-control-lg"
                  required
                  placeholder="Username"
                />
              </div>
              <div data-mdb-input-init class="form-outline mb-4">
                <input
                  type="password"
                  id="password"
                  name="password"
                  class="form-control form-control-lg"
                  required
                  placeholder="Password"
                />
              </div>
              <div data-mdb-input-init class="form-outline mb-4">
                <input
                  type="password"
                  id="confirm_password"
                  name="confirm_password"
                  class="form-control form-control-lg"
                  required
                  placeholder="Confirm Password"
                  oninput="checkPasswordMatch()"
                />
                <div id="password_match_message"></div>
              </div>

            <!-- Checkbox -->
            <!-- <div class="form-check d-flex justify-content-start mb-4">
              <input
                class="form-check-input"
                type="checkbox"
                value=""
                id="form1Example3"
              />
              <label class="form-check-label" for="form1Example3">
                Remember password
              </label>
            </div> -->

            <button
              data-mdb-button-init
              data-mdb-ripple-init
              class="btn btn-primary btn-lg btn-block"
              type="submit"
              id="register_button"
              value="Register"
              disabled
            >
              Register
            </button>
          </form>
          <p>Already have an account? <a href="{% url 'login' %}">Login here</a></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
